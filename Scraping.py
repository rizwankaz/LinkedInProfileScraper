"""
LinkedIn Job Scraper, Rizwan Kazi
Version 1 - April 2023
This script relies upon the packages selenium (version 4.2.0) and beautifulsoup(version 1.1.0).
This script will not work with any other versions of selenium or BS.
"""
#Call necessary packages.
from selenium import webdriver
from bs4 import BeautifulSoup
import time
import sys

#At the time being, .txt seemed to be the best format for results. So, create your .txt file.
f = open("jdmba.txt","w")

options = webdriver.ChromeOptions()
options.add_argument('--disable-extensions')
options.add_argument('--disable-popup-blocking')
driver = webdriver.Chrome(executable_path='/Users/rizwankazi/scraping/chromedriver_mac64/chromedriver', options=options)
driver.get("https://www.linkedin.com/login")

#Log in with your email and password for LinkedIn.
username = 'rsk2176@columbia.edu'
password = '122302yeah'
driver.find_element_by_id('username').send_keys(username)
driver.find_element_by_id('password').send_keys(password)
driver.find_element_by_css_selector('.btn__primary--large').click()

# Wait for login to complete.
time.sleep(30)

#Navigate to the page of the profiles we want to scrape and begin the scraping process.
profile_list = ["https://www.linkedin.com/in/marthadwyer/","https://www.linkedin.com/in/james-degraffenreidt-284377114/","https://www.linkedin.com/in/richardgreenbergjd/","https://www.linkedin.com/in/randallstempler/","https://www.linkedin.com/in/karenhellerberdy/","https://www.linkedin.com/in/jason-fensterstock-49801944/","https://www.linkedin.com/in/michael-geffrard-52672210/","https://www.linkedin.com/in/marjorie-kaplan-07a4a11b/","https://www.linkedin.com/in/bryant-seaman-b3a49217/","https://www.linkedin.com/in/cecile-hollevoet-482b944/","https://www.linkedin.com/in/saullieberman/","https://www.linkedin.com/in/harold-h-martin-65980913/","https://www.linkedin.com/in/jackpjacksonesq/","https://www.linkedin.com/in/leonardmbaynes/","https://www.linkedin.com/in/susan-rothwell-b8383916/","https://www.linkedin.com/in/ray-woodcock-a856a64/","https://www.linkedin.com/in/victorlewislee/","https://www.linkedin.com/in/robert-j-downing-94653276/","https://www.linkedin.com/in/jeffrey-pribor-1a616214b/","https://www.linkedin.com/in/maxholmesct/","https://www.linkedin.com/in/richard-perl-6a1173/","https://www.linkedin.com/in/miguel-sanchez-1bba5815/","https://www.linkedin.com/in/cary-newburger-440b60/","https://www.linkedin.com/in/stephenharder/","https://www.linkedin.com/in/jay-horowitz-00829a11/","https://www.linkedin.com/in/blair-flicker-5ab5592/","https://www.linkedin.com/in/k-leslie-avery-m-d-j-d-m-b-a-09339713/","https://www.linkedin.com/in/jeffrey-rodriguez-46a471a7/","https://www.linkedin.com/in/jody-stein-50246614/","https://www.linkedin.com/in/stephen-hickey-82022032/","https://www.linkedin.com/in/scott-jones-b16b29/","https://www.linkedin.com/in/guy-n-molinari/","https://www.linkedin.com/in/charles-hawkins-3826449/","https://www.linkedin.com/in/miriam-frieden-20111a17/","https://www.linkedin.com/in/gmintz/","https://www.linkedin.com/in/james-altschul-952b958/","https://www.linkedin.com/in/mary-neale-1a613010/","https://www.linkedin.com/in/scott-theobald-55633415/","https://www.linkedin.com/in/william-jones-29a6b727/","https://www.linkedin.com/in/john-knight-48574664/","https://www.linkedin.com/in/adamtoft/","https://www.linkedin.com/in/scott-samay-52b06045/","https://www.linkedin.com/in/paul-banta-27046b/","https://www.linkedin.com/in/jon-christianson-93856619/","https://www.linkedin.com/in/lorena-lopes-7407662/","https://www.linkedin.com/in/lior-evan-1aa217/","https://www.linkedin.com/in/samhollander/","https://www.linkedin.com/in/richard-keller-b9051/","https://www.linkedin.com/in/peter-wilkniss-1121237/","https://www.linkedin.com/in/thando-mhlambiso-5aa5626/","https://www.linkedin.com/in/derek-medina-29a5b53/","https://www.linkedin.com/in/marcelo-halpern-21095/","https://www.linkedin.com/in/rob-simensky-bb49468/","https://www.linkedin.com/in/jan-s-wimpfheimer-2842927/","https://www.linkedin.com/in/daniel-shefter-474423103/","https://www.linkedin.com/in/jay-strauss-301b8917/","https://www.linkedin.com/in/raanan-agus-27549854/","https://www.linkedin.com/in/sjdavis/","https://www.linkedin.com/in/michael-gordon-190a6a/","https://www.linkedin.com/in/alexmargolies/","https://www.linkedin.com/in/lawrence-fassler-2402679/","https://www.linkedin.com/in/rick-michalek-60170b8/","https://www.linkedin.com/in/hoytwebb/","https://www.linkedin.com/in/anthony-giacobbe-jr-a80312b/","https://www.linkedin.com/in/mike-brown-03930558/","https://www.linkedin.com/in/jillcohenmediation/","https://www.linkedin.com/in/albertmorales","https://www.linkedin.com/in/dov-kleiner-019a7b7","https://www.linkedin.com/in/adriane-stewart-79131525/","https://www.linkedin.com/in/lenberman/","https://www.linkedin.com/in/sandraflow/","https://www.linkedin.com/in/jeffrey-lipton-66a8139/","https://www.linkedin.com/in/michael-marone-20b853161/","https://www.linkedin.com/in/james-park-phd-jd-73063a6/locale=de_DE","https://www.linkedin.com/in/kamil-salame-06b3a0b1/","https://www.linkedin.com/in/alexander-cowherd-89385425/","https://www.linkedin.com/in/jon-edwards-8667358/?originalSubdomain=uk","https://www.linkedin.com/in/steve-gutterman-38970738/","https://www.linkedin.com/in/akhutorsky/","https://www.linkedin.com/in/nicola-lemay-43baba20/","https://www.linkedin.com/in/li-lu-20940b7a/","https://www.linkedin.com/in/marc-miller-ba10821/","https://www.linkedin.com/in/george-schultze-37a1455/ ","https://www.linkedin.com/in/deansioukas/","https://www.linkedin.com/in/lirongitig/","https://www.linkedin.com/in/matt-lane-267215a0/","https://www.linkedin.com/in/karim-momin-43b35/","https://www.linkedin.com/in/anilppatel/","https://www.linkedin.com/in/andrewwillis/","https://www.linkedin.com/in/praaron/","https://www.linkedin.com/in/prashant-a-8430077/","https://www.linkedin.com/in/charles-agus-280449/","https://www.linkedin.com/in/saleemah/","https://www.linkedin.com/in/peter-brady-0142022/","https://www.linkedin.com/in/matthew-drapkin-79b5a3b/","https://www.linkedin.com/in/david-friedland-218759a0/","https://www.linkedin.com/in/alexanderfriedman1/","https://www.linkedin.com/in/jason-kesselman-53657983/","https://www.linkedin.com/in/shawn-lese-a478a7a/","https://www.linkedin.com/in/jared-levin-74b97115/","https://www.linkedin.com/in/justin-lu-cfa-7713b81/","https://www.linkedin.com/in/matt-maley-6a40024/","https://www.linkedin.com/in/obrienthomas/","https://www.linkedin.com/in/matt-sandoval-7744a622/","https://www.linkedin.com/in/peter-carlin-20a5a0a5/","https://www.linkedin.com/in/dali-ding-a7226bb/","https://www.linkedin.com/in/john-fadely-67647836/","https://www.linkedin.com/in/kevin-feinblum-916420/","https://www.linkedin.com/in/quentin-messer-jr-cecd-419394/","https://www.linkedin.com/in/derrick-milam-5290a2a/","https://www.linkedin.com/in/edayoogunyemi/","https://www.linkedin.com/in/ted-paraskevas-0098534/","https://www.linkedin.com/in/melissa-peterson-a15ab17/","https://www.linkedin.com/in/jay-rosenberg-9b41239","https://www.linkedin.com/in/randyrothstein/","https://www.linkedin.com/in/jamesjzhu/","https://www.linkedin.com/in/marshall-abbott-6714158/","https://www.linkedin.com/in/ren%C3%A9-aubry-275abb/","https://www.linkedin.com/in/rebeccahornstein/","https://www.linkedin.com/in/ianhaft/","https://www.linkedin.com/in/bryan-kaplan-39951b4/","https://www.linkedin.com/in/jasper-j-nzedu-ab191b17a/","https://www.linkedin.com/in/rob-schwartz-b5a95633/","https://www.linkedin.com/in/sean-breaux-2757068/","https://www.linkedin.com/in/margaret-isa-butler-3168996/","https://www.linkedin.com/in/acarbonetto/","https://www.linkedin.com/in/lou-cherico-a4201b12/","https://www.linkedin.com/in/daniel-friedman-6a51981/","https://www.linkedin.com/in/joe-haller-4614bb1/","https://www.linkedin.com/in/hayden-horowitz-245aba96/","https://www.linkedin.com/in/andrew-huszar-b503a53/","https://www.linkedin.com/in/jeff-mandel-0b028b3/","https://www.linkedin.com/in/scott-moses-2117a65/","https://www.linkedin.com/in/amber-busuttil-mullen-99b3a02/","https://www.linkedin.com/in/matthew-shapiro-81b42818/","https://www.linkedin.com/in/scott-sherman-87b7926/","https://www.linkedin.com/in/alex-sioukas-8719011/","https://www.linkedin.com/in/adam-taxin-7a719a/","https://www.linkedin.com/in/weyts/","https://www.linkedin.com/in/dan-zimmerman-9a3b9025/","https://www.linkedin.com/in/whitney-clayton-918b6634/","https://www.linkedin.com/in/josh-kaufman-a5ba774/","https://www.linkedin.com/in/neal-kaufman-520b183b","https://www.linkedin.com/in/david-liu-8990648/","https://www.linkedin.com/in/david-marinoff-510b09/","https://www.linkedin.com/in/matt-m-88118b25/","https://www.linkedin.com/in/udayrau/","https://www.linkedin.com/in/megan-robson-3445a8a/","https://www.linkedin.com/in/adamrosenbluth/","https://www.linkedin.com/in/michelleaudreywalsh/","https://www.linkedin.com/in/susanjzachman/","https://www.linkedin.com/in/leila-sayegh/","https://www.linkedin.com/in/jack-lynch-66422823/","https://www.linkedin.com/in/hemantdutta/","https://www.linkedin.com/in/gregfragin/","https://www.linkedin.com/in/daniel-hoverman-3b385968/","https://www.linkedin.com/in/david-kovel-5b519a1b/","https://www.linkedin.com/in/sandra-kozlowski-b727071/","https://www.linkedin.com/in/jonathanmalveaux/","https://www.linkedin.com/in/kuyler-marsh-5693a65/","https://www.linkedin.com/in/scott-mitnick-b83a2445/","https://www.linkedin.com/in/kathryn-pruess-372a154/","https://www.linkedin.com/in/mrothert/","https://www.linkedin.com/in/samir-shah-30118/","https://www.linkedin.com/in/gail-steiner-3a3a422a/","https://www.linkedin.com/in/john-robert-weber/","https://www.linkedin.com/in/matt-wong-cfa/","https://www.linkedin.com/in/janine-beach-b2418221/","https://www.linkedin.com/in/yair-galil-3ab963/","https://www.linkedin.com/in/stephanieadamsonking/","https://www.linkedin.com/in/cmullock/","https://www.linkedin.com/in/noah-ornstein-3364512/","https://www.linkedin.com/in/michael-sloan-b85592/","https://www.linkedin.com/in/nicholas-greenwood-4b141011/","https://www.linkedin.com/in/joe-hill-046661/","https://www.linkedin.com/in/matthew-morgado-860776127/","https://www.linkedin.com/in/marissasamuel/","https://www.linkedin.com/in/jsaroff/","https://www.linkedin.com/in/zach-altschuler-a816301/","https://www.linkedin.com/in/felton-c-booker-29a9376/","https://www.linkedin.com/in/paul-goldschmid-91a2764/","https://www.linkedin.com/in/ramez-nasser-9461b22/","https://www.linkedin.com/in/david-spiller-74b4205/","https://www.linkedin.com/in/alyciavivona/","https://www.linkedin.com/in/andrew-yonce-7657911/","https://www.linkedin.com/in/philippe-dauman-jr/","https://www.linkedin.com/in/debenstein/","https://www.linkedin.com/in/davidforsh/","https://www.linkedin.com/in/chelsea-hamilton-228a93/","https://www.linkedin.com/in/james-o-grady-3770062a/","https://www.linkedin.com/in/shannaorlich/","https://www.linkedin.com/in/will-pridgen-2b20584/","https://www.linkedin.com/in/apulte/","https://www.linkedin.com/in/rohit-sachdev-7931782/","https://www.linkedin.com/in/raquelaragon/","https://www.linkedin.com/in/sbleiberg/","https://www.linkedin.com/in/kerry-shriver-56258a3/","https://www.linkedin.com/in/ket-gondha-30b528/","https://www.linkedin.com/in/thomas-harding-cfa-99b12a4/","https://www.linkedin.com/in/anish-monga-4b56507/","https://www.linkedin.com/in/muipoopoksakul/","https://www.linkedin.com/in/michael-sanchez-924b5a2/","https://www.linkedin.com/in/tonyxwong/","https://www.linkedin.com/in/sharmila-achari-0982136/","https://www.linkedin.com/in/lemuelua/","https://www.linkedin.com/in/eric-chesin/","https://www.linkedin.com/in/jhouse12/","https://www.linkedin.com/in/michael-mariani-0181467/","https://www.linkedin.com/in/alistair-meadows-28763318/","https://www.linkedin.com/in/gfreed/","https://www.linkedin.com/in/justinsinger/","https://www.linkedin.com/in/amycwu/","https://www.linkedin.com/in/dave-adamse-71482419/","https://www.linkedin.com/in/noopur-garg/","https://www.linkedin.com/in/tyler-ladner-5627264b/","https://www.linkedin.com/in/kabirmasson/","https://www.linkedin.com/in/john-wildt-23997a62/","https://www.linkedin.com/in/jordanbryk/","https://www.linkedin.com/in/omarharoun/","https://www.linkedin.com/in/sean-o-neill-972a072/","https://www.linkedin.com/in/zach-lane-0450975/","https://www.linkedin.com/in/toddleverette/","https://www.linkedin.com/in/david-maccallum-663b6749/","https://www.linkedin.com/in/shanita-nicholas-bb86a614/","https://www.linkedin.com/in/alessandro-presti-a9b5667/","https://www.linkedin.com/in/alexeysokolin/","https://www.linkedin.com/in/anishvaishnav/","https://www.linkedin.com/in/josephgoldschmid/","https://www.linkedin.com/in/david-shapiro-27a84335/","https://www.linkedin.com/in/christian-jensen-8375a614/","https://www.linkedin.com/in/kejiatang/","https://www.linkedin.com/in/billewatts/","https://www.linkedin.com/in/brian-benvenisty-cfa-09840a35/","https://www.linkedin.com/in/leecooperbio/","https://www.linkedin.com/in/seth-fromer-7899bb102/","https://www.linkedin.com/in/phoebe-jin-7a322b22/","https://www.linkedin.com/in/william-bill-nahill-52736211/","https://www.linkedin.com/in/jeffrey-witten-a146a513/","https://www.linkedin.com/in/mimiwu/","https://www.linkedin.com/in/andrewdcolvin/","https://www.linkedin.com/in/alandockerayjr/","https://www.linkedin.com/in/hugh-malone-781b9373/","https://www.linkedin.com/in/wariz-anifowoshe-27a12018/","https://www.linkedin.com/in/adam-yoran-59704017/","https://www.linkedin.com/in/marc-holloway-18863522/","https://www.linkedin.com/in/alexandra-santana-3683b63b/","https://www.linkedin.com/in/ebroomfield/","https://www.linkedin.com/in/michael-apfel-3303567/","https://www.linkedin.com/in/kevin-hennecken-107a3087/","https://www.linkedin.com/in/joychuaschwartz/","https://www.linkedin.com/in/nathan-johnson-58634242/","https://www.linkedin.com/in/maryprager/","https://www.linkedin.com/in/etanfraser/","https://www.linkedin.com/in/jennifer-zhou-99760821/","https://www.linkedin.com/in/saagar-kaul-a8817196/","https://www.linkedin.com/in/meokeefe/","https://www.linkedin.com/in/austinruhm/","https://www.linkedin.com/in/colleenbaehrend/","https://www.linkedin.com/in/samuel-kwak/","https://www.linkedin.com/in/akirshenbaum/","https://www.linkedin.com/in/michaelakatz/","https://www.linkedin.com/in/antoniahyman/","https://www.linkedin.com/in/michael-kahn-b2718b128/","https://www.linkedin.com/in/ethan-mackay-07943192/","https://www.linkedin.com/in/michael-stack-b4b03b23/","https://www.linkedin.com/in/johnrogersiv/","https://www.linkedin.com/in/peyton-oosterman-4b669570/","https://www.linkedin.com/in/zain-haq-10833a40/","https://www.linkedin.com/in/maxwelltobin/","https://www.linkedin.com/in/ty-balzer-13881ba7/","https://www.linkedin.com/in/alexi-thomas-1808a267/","https://www.linkedin.com/in/zach-ferguson-78738252/","https://www.linkedin.com/in/samsunhoshin/","https://www.linkedin.com/in/david-alpert-6946632a/","https://www.linkedin.com/in/jamie-brumberger-592019126/","https://www.linkedin.com/in/david-finkelstein/","https://www.linkedin.com/in/charlesgiannini/","https://www.linkedin.com/in/samuel-glassman-05588146/","https://www.linkedin.com/in/michael-lewis-514a9160/","https://www.linkedin.com/in/sara-providence/","https://www.linkedin.com/in/nick-singer-49297422/","https://www.linkedin.com/in/olivia-smith-69966616a/","https://www.linkedin.com/in/melissayin/","https://www.linkedin.com/in/derekandersen21/","https://www.linkedin.com/in/nicole-casey-a239bab0/","https://www.linkedin.com/in/matthew-clarida-a259a230/","https://www.linkedin.com/in/alonelhanan/","https://www.linkedin.com/in/lawrence-ho-5782966a/","https://www.linkedin.com/in/jacob-kornman-69b91a81/","https://www.linkedin.com/in/emelyluna/","https://www.linkedin.com/in/max-pearl-4b3190bb/","https://www.linkedin.com/in/georgesmithiv/","https://www.linkedin.com/in/zchsd/","https://www.linkedin.com/in/quayhenderson/","https://www.linkedin.com/in/sami-kattan-224a82117/","https://www.linkedin.com/in/jiyoon-kim-a5080586/","https://www.linkedin.com/in/ridgemontes/","https://www.linkedin.com/in/shanmorgan04/","https://www.linkedin.com/in/anita-kapyur/","https://www.linkedin.com/in/vinay-sridharan-03991864/","https://www.linkedin.com/in/simonteich/","https://www.linkedin.com/in/jennyzhou95/","https://www.linkedin.com/in/brandon-delijani-7200a1b3/","https://www.linkedin.com/in/justineinhorn/","https://www.linkedin.com/in/xuan-irma-xie/","https://www.linkedin.com/in/ruili2018/","https://www.linkedin.com/in/michael-zaks/", "https://www.linkedin.com/in/george-w-madison-22bbb0b/“, “https://www.linkedin.com/in/jay-lisnow-44539215/“, “https://www.linkedin.com/in/art-bousel-3545568”, “https://www.linkedin.com/in/donald-keene-3a654013/“,” https://www.linkedin.com/in/george-evans-0908aa5/"]
for profile in profile_list:
    driver.get(profile)
    time.sleep(5)
    src = driver.page_source
    soup = BeautifulSoup(src, 'lxml')
#We print, and if we can't, we report the error.
    try:
        intro = soup.find('div', {'class': 'pv-text-details__left-panel'}) 
        name_loc = intro.find("h1")
        name = name_loc.get_text().strip()
        heading_loc = intro.find("div", {'class': 'text-body-medium'})
        heading = heading_loc.get_text().strip()
        try:
            containers = soup.find_all('div', {'class': 'pvs-list__outer-container'})
            experience = containers[3]
            job_loc = experience.find_all('div', {'class':'display-flex flex-wrap align-items-center full-height'})
            company_loc = experience.find_all('span', {'class':'t-14 t-normal'})
            date_loc = experience.find_all('span', {'class':'t-14 t-normal t-black--light'})
            job0 = job_loc[0].get_text().strip()
            job1 = job_loc[1].get_text().strip()
            job2 = job_loc[2].get_text().strip()
            company0 = company_loc[0].get_text().strip()
            company1 = company_loc[1].get_text().strip()
            company2 = company_loc[2].get_text().strip()
            date0 = date_loc[0].get_text().strip()
            date1 = date_loc[1].get_text().strip()
            date2 = date_loc[2].get_text().strip()
            print(name, "," , heading, "," , job0, "," , company0, ",", date0, ",", job1, ",", company1, ",", date1, ",", job2,",", company2,",",date2, ",", profile, file=f)
        except:
                print(name,",",heading,",",profile,file=f)
    except:
        print("Invalid link:", profile, file=f)

driver.quit()
f.close()
#That's it! The .txt file will be in the working directory; simply search up jdmba.txt on your device.
#Note: LinkedIn's API duplicates the job, company, and date strings, so they will show up twice. This requires manual cleanings.